<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:s="http://myfaces.apache.org/sandbox"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:adm="http://www.flexive.com/jsf/admin"
      xmlns:fx="http://www.flexive.com/jsf/core">
<body>

<ui:composition template="/adm/contentTemplate.xhtml">

    <ui:define name="body">
        <a4j:form id="frm">
            <adm:tab label="#{fxMessageBean['GroovyConsole.tabtitle.main']}" active="true" id="tab1"/>

            <a4j:outputPanel id="systemInfos">
                <fieldset class="formFields">
                    <legend>#{fxMessageBean['GroovyConsole.group.code']}</legend>
                    <h:inputTextarea cols="120" rows="30" value="#{groovyConsoleBean.code}"/>
                    <br/>
                    <h:selectBooleanCheckbox  title="#{fxMessageBean['GroovyConsole.label.runAtEJB']}" value="#{groovyConsoleBean.ejb}"/>
                    #{fxMessageBean['GroovyConsole.label.runAtEJB']}<br/><br/>
                    <a4j:commandButton id="executeButton" reRender="resultPanel"
                                       value="#{fxMessageBean['SystemInfo.button.execute']}"
                            onclick="parent.lockScreen()" oncomplete="parent.unlockScreen()"/>
                </fieldset>

                <br/><br/>
                <a4j:outputPanel id="resultPanel">
                    <pre>#{groovyConsoleBean.result}</pre>
                    <span style="color:gray;font-style:italic;">
                        #{fxMessageBean['GroovyConsole.label.executionTime, #{groovyConsoleBean.executionTime}']}
                    </span>
                </a4j:outputPanel>
            </a4j:outputPanel>

            <adm:toolbarPluginButtons/>
        </a4j:form>
    </ui:define>

</ui:composition>

</body>
</html>
