<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:adm="http://www.flexive.com/jsf/admin"
      xmlns:fx="http://www.flexive.com/jsf/core">

<ui:composition template="/adm/templates/navigation.xhtml">
    <ui:define name="content">
        <adm:tree name="admin" targetId="treeContent" extensionPoint="/tree/adm/main">
            <c:if test="#{fxSystemBean.isInRole['MandatorSupervisor'] or fxSystemBean.isInRole['AccountManagement']}">
                <adm:treeNode id="accounts" icon="accounts" title="#{fxMessageBean['Admin.account.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.account.overview']}"
                                  link="/adm/main/account/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.account.create']}" link="/adm/main/account/create.jsf"/>
                </adm:treeNode>

                <adm:treeNode id="usergroups" icon="userGroups" title="#{fxMessageBean['Admin.groups.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.groups.overview']}"
                                  link="/adm/main/userGroup/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.groups.create']}" link="/adm/main/userGroup/new.jsf"/>
                </adm:treeNode>
            </c:if>

            <c:if test="#{fxSystemBean.isInRole['GlobalSupervisor']}">
                <adm:treeNode id="mandtors" icon="mandators" title="#{fxMessageBean['Admin.mandators.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.mandators.overview']}"
                                  link="/adm/main/mandator/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.mandators.create']}"
                                  link="/adm/main/mandator/create.jsf"/>
                </adm:treeNode>
            </c:if>

            <c:if test="#{fxSystemBean.isInRole['MandatorSupervisor'] or fxSystemBean.isInRole['ACLManagement']}">
                <adm:treeNode id="acls" icon="acls" title="#{fxMessageBean['Admin.acl.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.acl.overview']}" link="/adm/main/acl/aclOverview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.acl.create']}" link="/adm/main/acl/aclCreate.jsf"/>
                </adm:treeNode>
            </c:if>

            <c:if test="#{fxSystemBean.isInRole['MandatorSupervisor'] or fxSystemBean.isInRole['WorkflowManagement']}">
                <adm:treeNode id="workflows" icon="workflows" title="#{fxMessageBean['Admin.workflows.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.workflows.overview']}"
                                  link="/adm/main/workflow/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.workflows.create']}"
                                  link="/adm/main/workflow/create.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.workflows.stepdefinitions']}"
                                  link="/adm/main/workflow/stepDefinition/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.workflows.stepdefinitions.create']}"
                                  link="/adm/main/workflow/stepDefinition/edit.jsf"/>
                </adm:treeNode>
            </c:if>

            <c:if test="false"> <!--templates are disabled for now-->
                <adm:treeNode id="templates" icon="templates" title="#{fxMessageBean['Admin.templates.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.templates.contentTemplateOverview']}"
                                  link="/adm/main/template/contentTemplateOverview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.templates.masterTemplateOverview']}"
                                  link="/adm/main/template/masterTemplateOverview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.templates.tagsOverview']}"
                                  link="/adm/main/template/tagOverview.jsf"/>
                </adm:treeNode>
            </c:if>

            <adm:treeNode id="search" icon="find" title="#{fxMessageBean['Admin.sqlSearch.root']}">
                <adm:treeNode title="#{fxMessageBean['Admin.sqlSearch.query']}" link="/adm/main/sqlsearch/search.jsf" />
                <adm:treeNode title="#{fxMessageBean['Admin.sqlSearch.editor']}" link="/adm/search/query.jsf" />
                <adm:treeNode title="#{fxMessageBean['Admin.content.editor']}" link="/adm/content/contentEditor.jsf" />
                <adm:treeNode title="#{fxMessageBean['Admin.content.testData']}" link="/adm/content/createTestData.jsf"/>
            </adm:treeNode>
            <c:if test="#{fxSystemBean.isInRole['ScriptExecution'] or fxSystemBean.isInRole['ScriptManagement']}">
                <adm:treeNode id="scripts" icon="scripts" title="#{fxMessageBean['Admin.scripts.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.scripts.overview']}" link="/adm/main/scripting/overview.jsf" />
                    <adm:treeNode title="#{fxMessageBean['Admin.scripts.create']}" link="/adm/main/scripting/create.jsf" />
                    <adm:treeNode title="#{fxMessageBean['Admin.system.groovyConsole']}" link="/adm/main/scripting/groovyConsole.jsf"/>
                </adm:treeNode>
            </c:if>
            <adm:treeNode id="system" icon="system" title="#{fxMessageBean['Admin.system.root']}">
                <adm:treeNode title="#{fxMessageBean['Admin.system.info']}" link="/adm/main/systemInfo.jsf"/>
            </adm:treeNode>

            <c:if test="#{fxSystemBean.isInRole['SelectListEditor']}">
                <adm:treeNode id="selectlists" icon="selectLists" title="#{fxMessageBean['Admin.selectlists.root']}">
                    <adm:treeNode title="#{fxMessageBean['Admin.selectlists.selectList.overview']}"
                                  link="/adm/main/selectList/overview.jsf"/>
                    <adm:treeNode title="#{fxMessageBean['Admin.selectlists.selectList.create']}"
                                  link="/adm/main/selectList/create.jsf"/>
                </adm:treeNode>
            </c:if>
        </adm:tree>

        <div id="treeContent" class="adminTree">
        </div>
    </ui:define>

</ui:composition>


</html>
