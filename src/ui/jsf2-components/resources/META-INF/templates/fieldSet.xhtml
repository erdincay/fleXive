<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:cc="http://java.sun.com/jsf/composite">

    <cc:interface>
        <cc:attribute name="legend" default="" 
                      shortDescription="label of the fieldset (usually displayed in the top border)"
                      displayName="Legend" required="false"/>
        <cc:attribute name="legendKey" default=""
                      shortDescription="message key for the label (if specified, the legend attribute is ignored)"
                      displayName="Legend Key" required="false"/>
        <cc:attribute name="width" default=""
                      shortDescription="width in px, overrides the default width of the fieldset, which also affects any nested form rows"
                      displayName="Width" required="false"/>
        <cc:attribute name="relativeWitdh" default=""
                      shortDescription="width in %, overrides the default width of the fieldset, which also affects any nested form rows"
                      displayName="Relative Width" required="false"/>
    </cc:interface>

    <cc:implementation>

        <c:if test="#{!empty width}">
            <c:set var="overrideStyle" value="#{overrideStyle};width:#{width}px"/>
        </c:if>
        <c:if test="#{!empty relativeWidth}">
            <c:set var="overrideStyle" value="#{overrideStyle};width:#{relativeWidth}%"/>
        </c:if>
        <c:if test="#{!empty legendKey}">
            <c:set var="legend" value="#{fxMessageBean[legendKey]}"/>
        </c:if>
        <fieldset class="formFields" style="#{overrideStyle}">
            <legend>#{legend}</legend>
            <ui:insert/>
        </fieldset>

    </cc:implementation>

</html>
