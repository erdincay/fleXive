<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:fx="http://www.flexive.com/jsf/core"
      xmlns:products="http://www.flexive.com/jsf/examples/products">
<head>
    <fx:includes/>
    <t:stylesheet path="/products.css"/>
    
    <t:saveState value="#{manufacturerBean.pk}"/>
    <fx:content var="manufacturer" pk="#{manufacturerBean.pk}">
        <title>#{fxMessageBean['products.manufacturer.title']}: #{manufacturer.name}</title>
    </fx:content>
</head>

<body>

    <h:form>

        <h:commandLink action="home">#{fxMessageBean['products.button.backToProducts']}</h:commandLink>

        <fx:content var="manufacturer" pk="#{manufacturerBean.pk}">
            <div class="manufacturer">
                <h1>
                    #{manufacturer.name}
                    <ui:fragment rendered="#{!empty manufacturer.basedIn}">
                        (#{manufacturer.basedIn})
                    </ui:fragment>
                </h1>

                <ui:fragment rendered="#{!empty manufacturer.logo}">
                    <div class="images">
                        <fx:thumbnail binary="#{manufacturer.logo}"/>
                    </div>
                </ui:fragment>

                <div class="description">
                    #{manufacturer.description}
                </div>

                <h3>#{fxMessageBean['products.manufacturer.products']} #{manufacturer.name}:</h3>
                
                <products:productTable value="#{manufacturerBean.products}"/>

            </div>
        </fx:content>
    </h:form>

    <products:footer/>

</body>

</html>