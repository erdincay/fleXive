<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE chapter [
        <!ENTITY % global_entities SYSTEM "global.ent">
        %global_entities;
        ]>
<chapter xmlns="http://docbook.org/ns/docbook" xml:id="admin_gui" xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude">

    <xi:include href="includes/author_gglos.xml"/>
    <xi:include href="includes/author_azrzavy.xml"/>
    <xi:include href="includes/author_hbacher.xml"/>

    <title>The &flexive; backend GUI</title>

    <section xml:id="adm_gui_basics">
        <title>&Flexive; backend basics</title>
        <section xml:id="adm_gui_run">
        <title>Running the backend administration GUI</title>
            <para>Provided that you have a working
                <link linkend="installation">&flexive; installation</link>, you
                start the &flexive; backend by starting your chosen application server.
                You can access the administration GUI by opening your web browser
                and entering the address
                of the backend GUI startpage. By default the address is
                <code>http://localhost:8080/flexive/adm/main.jsf</code>
                where
                <code>localhost</code>
                can be replaced by the IP address of the application server.
                The port (
                <code>8080</code>
                in the example) depends on your
                Application Servers settings (8080 is the default for JBoss).
                After a few moments, you
                will reach the <link linkend="adm_gui_login">login page</link>.
            </para>
        </section>
        <section xml:id="adm_gui_login">
            <title>Logging in</title>
            <para>
                If you want to work with the administration
                GUI as supervisor (a role that is allowed to do
                <emphasis>everything</emphasis>
                without any security limitations), the default username to
                choose is
                <code>supervisor</code>
                with its default password
                <code>supervisor</code>.
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_backend/flexive_login.png" format="PNG"
                                   width="100%"/>
                    </imageobject>
                </mediaobject>
                <caution>
                    Once you have logged in as supervisor you should
                    modify the default supervisor password via
                    <link linkend="adm_ui_user">account administration</link> or
                    via <link linkend="adm_user_preferences">user preferences</link>.
                </caution>
                <note>
                    When the backend administration GUI is started for the first time
                    and a user successfully logs in, the execution of
                    <link linkend="core_scripting_runonce">run-once scripts</link>
                    is automatically triggered which may take a few seconds.
                    (Simply wait until script execution has completed and
                    press the "Continue" button. The run-once scripts are
                    used to initialize &flexive;).
                </note>
            </para>
        </section>
        <section xml:id="adm_gui_areas">
            <title>&Flexive; backend display areas</title>
            <para>
                The backend consists of four areas:
                <itemizedlist>
                    <listitem>
                        <para>
                            (1) The currently selected backend GUI section: The currently
                            active GUI section is displayed on top, in this case the
                            <link linkend="adm_content_tree ">Content Tree</link>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           (2) Currently inactive sections: Inactive GUI sections, are
                            displayed on the bottom. By clicking on an inactive section
                            the section becomes active.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            (3) The toolbar:
                            <para>
                                The toolbar contains the following icons
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            Context sensitive GUI icons: In the left side of
                                            the toolbar context sensitive
                                            GUI buttons are displayed. If for example the
                                            <link linked="adm_ui_user">user administration GUI</link>
                                            is displayed an icon for creating a user is also available
                                            in the toolbar.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Plugin icons: Right next to the context sensitive
                                            GUI buttons, the icons of the
                                            <link linkend="plugins_backend_feedback">feedback plugin</link>
                                            are displayed.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Fixed icons: In the right side of the toolbar the fulltext
                                            search bar, the icon for accessing
                                            <link linkend="adm_user_preferences">user preferences</link>
                                            and the logout
                                            icon are displayed
                                            <inlinemediaobject>
                                                <imageobject>
                                                    <imagedata fileref="images/adm_ui_backend/backend_toolbar_fixed_icons.png" format="PNG"
                                                   width="100%"/>
                                                </imageobject>
                                            </inlinemediaobject>.
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            (4) The content frame: The content frame is the main display
                            area for the currently opened backend GUI.
                        </para>
                    </listitem>
                </itemizedlist>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_backend/backend_general.png" format="PNG"
                                   width="66%"/>
                    </imageobject>
                </mediaobject>
            </para>
        </section>
        <section xml:id="adm_gui_overview">
            <title>Backend GUI overview</title>
                <para>
                    The &flexive; backend provides four main GUIs:
                <itemizedlist>
                    <listitem>
                        <para>
                            <link linkend="adm_content_tree ">Content Tree:</link>
                            The content tree is used for browsing,
                            creating, modifying and deleting content instances.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="adm_ui_structure_editor">Structures:</link>
                            The structure editors allow the user
                            to create, modify and delete the blueprints of content instances.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <link linkend="adm_ui_query_editor">Search:</link>
                            The query editor allows the user
                            to customize search queries in order to search
                            within the content tree and within content instances.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                             <link linkend="adm_administration">Administration:</link>
                            The administration section provides a collection of GUIs for
                            the administration of &flexive;.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
    </section>

    <section xml:id="adm_user_preferences">
        <title>User preferences</title>

    </section>

    <section xml:id="adm_structure_editor_basics">
        <title>The structure editor</title>
        <para>The structure editor allows you to
            define the structure or blueprints of content instances. In essence the
            structure of a content instance is defined by three main building blocks:
            <itemizedlist>
                <listitem>
                    <para>
                        A
                        <link linkend="core_structure_types">type</link>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        The type's assigned
                        <link linkend="core_structure_groups">groups</link>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        The type's assigned
                        <link linkend="core_structure_properties">properties</link>
                    </para>
                </listitem>
            </itemizedlist>
            The smallest building block is represented by property, which defines what
            data may be assigned to a content instance and who has access to that data.
            In order to make life easier, a specific set of properties can
            be grouped together into a group. A group can then be assigned to a different
            type later on, therefore saving you the trouble of manually assigning every single
            property to the type all over again. A more detailed explanation can be found in the chapter about
            <link linkend="core_structure_overview">structures</link>.
        </para>

        <important>Please note that properties and groups on their own do not
            "belong to" types and also types do not "consist of" properties. Instead properties
            and groups need to be assigned to types. In fact the same property can be assigned to
            multiple types using different property assignments. In theory this
            means that creating a property and assigning it to a type is a two step process.
            First you create the property (choose the property name, data type, default value etc.)
            and secondly the property needs to be assigned to the type using a property assignment.
            In practice this is automatically handled by the structure editor but it is important to
            understand that a property is not equal to a property assignment.
            The property assignment acts as a "link" between the type and the actual property
            and there are various property settings which can be overridden and fine tuned by
            the property assignment. Similarly, if you remove a property or group from a type, it
            means that you really only remove the assignment so that this specific property or group is
            no longer assigned to the type anymore. Properties and groups that are no longer assigned
            to another type or another group will be automatically removed from the system.
        </important>

        <section xml:id="adm_structure_editor_gui">
            <title>The structure editor GUI</title>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_structure_editor/se_overview.png" format="PNG" scalefit="1"
                                   width="100%"
                                   contentdepth="66%"/>
                    </imageobject>
                </mediaobject>
            </para>

            <para>The structure editor GUI is reachable by clicking the
                <guimenuitem>Structure</guimenuitem>
                tab (1) in the administration backend. The GUI is separated into two parts: the
                structure tree (2) on the left half of the screen and the edit view (3) on the right half.
            </para>
            <section xml:id="adm_structure_tree_items">
                <title>Structure tree items</title>
                The Structure tree contains all defined types with their assignments as children.
                <para>The structure tree consists of the following items:
                    <itemizedlist>
                        <listitem>
                            <para>
                                <inlinemediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_structure_editor/fxType.png" format="PNG"
                                                   contentwidth="66%"/>
                                    </imageobject>
                                </inlinemediaobject>
                                Content types: types with their mode set to "Content". Types are the blueprints of
                                content instances. All children (group assignments or property assignments)
                                are assigned to this specific type.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <inlinemediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_structure_editor/fxTypeRelation.png" format="PNG"
                                                   contentwidth="66%"/>
                                    </imageobject>
                                </inlinemediaobject>
                                Relation types: types with their mode set to "Relation". Relation Types define arbitrary
                                relations between types.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <inlinemediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_structure_editor/fxGroup.png" format="PNG"
                                                   contentwidth="66%"/>
                                    </imageobject>
                                </inlinemediaobject>
                                Group assignments/Groups: The structure editor allows to edit the group assignment
                                together with the group which is assigned by the group assignment.
                                Group assignments assign groups to types or other groups.
                                Possible children are group and property assignments. All children
                                are assigned to this specific group.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <inlinemediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_structure_editor/fxAssignedProperty.png" format="PNG"
                                                   contentwidth="66%"/>
                                    </imageobject>
                                </inlinemediaobject>
                                Property assignments/Properties: Property assignments assign properties to groups or types.
                                The structure editor allows to edit the property assignment together with the property.
                                They act as the smallest building blocks and are therefore without any children.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <inlinemediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_structure_editor/fxAssignedPropertySystemInternal.png"
                                                   format="PNG" contentwidth="66%"/>
                                    </imageobject>
                                </inlinemediaobject>
                                System internal property assignments: assignments of special system internal properties
                                that are common to all types and are intentionally not editable. For clarity reasons,
                                instead of displaying
                                those non editable properties for every type, they are only displayed once at the root
                                level.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="adm_structure_tree_interaction">
                <title>Structure tree interaction</title>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>
                                Double click: double clicking on an element in the structure tree opens
                                the element in
                                <glossterm>view mode</glossterm>
                                on the right half of the screen. Double clicking
                                on the
                                <guiicon>[+]</guiicon>
                                graphic icon to the left of a specific element expands the tree
                                and shows the children of the specific element. Double clicking on the
                                <guiicon>[-]</guiicon>
                                graphic
                                icon to the left of a specific element collapses the tree and hides the
                                element's children.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Structure tree tab
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            Left clicking on "Structures" in the structure tree
                                            tab opens a drop down menu. The following
                                            options are available:
                                        </para>
                                        <itemizedlist>
                                            <listitem>
                                                <para>Create a new content type (opens the type editor GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Create a new relation type (opens the type editor GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Import a type (opens the structure import GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Export types (opens the structure export GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Build a search query (opens the search GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>View search results (opens the search result GUI).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Open the content editor.
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>Switch to another section of the backend application.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                        <inlinemediaobject>
                                            <imageobject>
                                                <imagedata fileref="images/adm_ui_structure_editor/type_dropdown.png" format="PNG"
                                                           contentwidth="66%"/>
                                            </imageobject>
                                        </inlinemediaobject>
                                    </listitem>
                                     <listitem>
                                        <para>
                                            Clicking on
                                            <inlinemediaobject>
                                                <imageobject>
                                                    <imagedata fileref="images/adm_ui_structure_editor/structure_tree_toggle_flat_view.png"
                                                               format="PNG"/>
                                                </imageobject>
                                            </inlinemediaobject>
                                            toggles between flat and hierarchical view. In flat view all types
                                            are displayed on root level of the structure tree. In hierarchical
                                            view derived types are shown as children of their parent types.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Clicking on
                                            <inlinemediaobject>
                                                <imageobject>
                                                    <imagedata fileref="images/adm_ui_structure_editor/structure_tree_toggle_xpath.png"
                                                               format="PNG"/>
                                                </imageobject>
                                            </inlinemediaobject>
                                            toggles between the display of the label of structure elements
                                            and the display of the alias (which is used in XPath notation)
                                            in the structure tree.
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Right click: right clicking on an element in the structure tree opens
                                a context menu with possible actions. Depending on which element was
                                right clicked different actions are possible:
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            For types it is possible to:
                                            <itemizedlist>
                                                <listitem>
                                                    <para>Open the type in
                                                        <glossterm>view mode</glossterm> (this action will open the type editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Open the type in
                                                        <glossterm>edit mode</glossterm> (this action will open the type editor).
                                                    </para>
                                                </listitem>
                                                 <listitem>
                                                    <para>Export the type with or without.
                                                        <glossterm>dependencies</glossterm> (this action will open the export GUI).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Create a new property that will be automatically assigned to
                                                        this type (this action will open the property editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Create a new group that will be automatically assigned to this
                                                        type (this action will open the group editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Create a derived type of this type (this action will open the type editor).
                                                    </para>
                                                </listitem>
                                                 <listitem>
                                                    <para>Create a search query containing this type as search parameter
                                                        (this action will open the search GUI).
                                                    </para>
                                                </listitem>
                                                 <listitem>
                                                    <para>View the search query results (this action will open the search result GUI).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Create content for the selected type (this action will open
                                                        the
                                                        content editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Create content instances with random test data of the selected type
                                                        (this action will open the test data GUI).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To delete the selected type.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                            <mediaobject>
                                                <imageobject>
                                                    <imagedata fileref="images/adm_ui_structure_editor/context_menu_type.png"
                                                               format="PNG" contentwidth="66%"/>
                                                </imageobject>
                                            </mediaobject>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            For group assignments it is possible to:
                                            <itemizedlist>
                                                <listitem>
                                                    <para>Open the group assignment in
                                                        <glossterm>view mode</glossterm> (this action will open the group editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Open the group assignment in
                                                        <glossterm>edit mode</glossterm> (this action will open the group editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Create a new property or group that
                                                        will automatically be assigned to the selected group
                                                        assignment's
                                                        group (this action will open the property/group editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To copy the group assignment, so it can be pasted into another
                                                        group
                                                        or type.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To cut the group assignment, so it can be pasted into the same
                                                        group
                                                        or type at a different position.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To delete the selected group assignment.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            For property assignments it is possible to:
                                            <itemizedlist>
                                                <listitem>
                                                    <para>Open the property assignment in
                                                        <glossterm>view mode</glossterm> (this action will open the property editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Open the assignment in
                                                        <glossterm>edit mode</glossterm> (this action will open the property editor).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Create a search query containing this property assignment itself as
                                                        search parameter (this action will open the search GUI).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>Create a search query containing the property assignment's property
                                                        as search parameter (this action will open the search GUI).
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To copy the group assignment, so it can be pasted into another
                                                        group
                                                        or type.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To cut the group assignment, so it can be pasted into the same
                                                        group
                                                        or type at a different position.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        To delete the selected group assignment.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <section xml:id="adm_structure_tree_cut_copy_paste">
                    <title>Cut, copy and paste operations</title>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>Cut &amp; Paste:
                                    Assignments can be cut and pasted in order to
                                    <itemizedlist>
                                    <listitem>
                                        <para>change the assignment's position within a type or group by
                                            cutting the assignment and pasting it at the desired position.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>remove a property/group from one type by deleting
                                            the according property or group assignment while at the same
                                            time assigning the property/group to another type or group.
                                        </para>
                                    </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>Copy &amp; Paste:
                                    Assignments can be copied and pasted in order to
                                    <itemizedlist>
                                    <listitem>
                                        <para>assign the selected assignment's property/group to another type or group.
                                            I.e. a new property/group assignment for the selected property is created and
                                            assigned to the specified type or group at the chosen position. By using copy &amp;
                                            paste a property can be used within arbitrary types.
                                        </para>
                                    </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>
                        <itemizedlist>
                            <listitem>
                                <para>Pasting:
                                    To facilitate positioning various paste operations are provided:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Paste into: This is the default pasting operation for copied
                                                assignments. A copy of the selected assignment  will be created and
                                                pasted into the chosen group or into the
                                                chosen type
                                                at the last position.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Paste into as: Works like "Paste into" but additionally prompts you
                                                specify a new alias so you can create a new assignment and paste it
                                                into an arbitrary type/group with a different alias.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Paste above and paste below: pastes an assignment directly above or
                                                below another assignment.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Paste above and paste below as: Works like "Paste above" and "Paste
                                                below" but additionally prompts you specify a new alias
                                                so you can create a new assignment and paste it into an arbitrary
                                                type/group with a different alias.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
            </section>
            <section xml:id="adm_structure_editor_view_mode_vs_edit_mode">
                <title>View mode vs. edit mode</title>
                <para>
                    By default, double left clicking on a structure element in the structure tree opens
                    an editor in
                    <glossterm>view mode</glossterm>
                    on the right half of the screen.
                    In
                    <glossterm>view mode</glossterm>
                    it is
                    not possible to edit the structure element, you can merely view its current settings.
                </para>
                <para>
                    The edit mode on the other hand enables you to edit structure elements and to
                    save changes to the data base. You can switch to edit mode by choosing "Edit" from the context menu
                    or by clicking choosing "Edit" in the context menu which is presented by left clicking on the structure
                    element in the structure tree.
                    Both view and edit mode provide three different sub editors:
                    <itemizedlist>
                        <listitem>
                            <para>
                                The type editor for creating and editing types options and scripts assigned to that type.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The group editor for editing group assignments, editing and creating groups, their
                                options and scripts.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The property editor for editing property assignments, editing and creating properties, their options
                                and scripts.
                            </para>
                        </listitem>
                    </itemizedlist>
                    Depending on which item is double clicked in the structure tree, or which item is selected for
                    creation
                    in the context menu of the structure tree, the according sub editors is opened.
                </para>
            </section>
            <section xml:id="adm_structure_editor_type_editor">
                <title>The type editor</title>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/type_editor_general.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <section xml:id="adm_structure_editor_editing_types">
                    <title>Editing types</title>
                    <para>
                        When editing an existing type, you will notice that the type's
                        <guimenuitem>"Language mode"</guimenuitem>
                        select box is disabled. Specifying a type's language mode
                        is only allowed when the type is created. For
                        types that are already stored in the database, content may also already exist which
                        would become invalid if the language mode is changed.
                    </para>
                    <para>
                        Types with their mode set to
                        <guibutton>"Relation"</guibutton>
                        are called relation types.
                        For relation types
                        a table is provided to add and remove relations. For adding a relation the user needs
                        to set the source and
                        destination type, together with the maximum multiplicities and click the
                        <guibutton>"Add"</guibutton>
                        button in the
                        <guimenuitem>"Actions"</guimenuitem>
                        column. In order to set unlimited
                        multiplicities simply enable or disable the according checkbox in the relation's table row.
                        For specifying the multiplicites manually, first disable the checkbox and use the input
                        field below the source or destination type which appears after disabling the checkbox.
                        Relations can be removed again by clicking on the
                        <guibutton>"Delete"</guibutton>
                        button
                        in the
                        <guimenuitem>"Actions"</guimenuitem>
                        column.

                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/adm_ui_structure_editor/type_editor_relations.png" format="PNG"
                                           contentwidth="66%"/>
                            </imageobject>
                        </mediaobject>
                    </para>
                    <para>
                        Also notice that by enabling the
                        <guibutton>"Track history"</guibutton>
                        checkbox, by disabling the
                        <guibutton>"Unlimited Versions"</guibutton>
                        checkbox and for type relations by disabling the
                        <guibutton>"maxRelSource"</guibutton>
                        and "maxRelDest" checkboxes,
                        input fields for setting the<guibutton>"History Age"</guibutton>,
                        <guibutton>"Max. Versions"</guibutton>, and the maximum number of relation sources and
                        destinations
                        become available that are hidden otherwise.
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="images/adm_ui_structure_editor/type_editor_hidden_fields.png" format="PNG"
                                           contentwidth="66%"/>
                            </imageobject>
                        </mediaobject>
                    </para>
                </section>
                If you want more information on types and their specific settings please refer to
                <xref linkend="core_structures_types_parameters"/>.
            </section>

            <section xml:id="adm_structure_editor_group_editor">
                <title>The group editor</title>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/group_editor_assignment.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </mediaobject>
                </para>

                <section xml:id="adm_structure_editor_editing_groups">
                    <title>Editing group assignments</title>
                    <para>
                        When editing an existing group assignment, you will notice three tabs:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Group Assignment"</guimenuitem>
                                    tab, which gives you
                                    access to the group assignment that is selected in the structure tree.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Group"</guimenuitem>
                                    tab, which gives you
                                    access to the actual group that is assigned by the selected group assignment.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Options"</guimenuitem>
                                    tab, which gives you
                                    access to the options of the group assignment and its group as well.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <note>
                        <para>
                            When creating a new group, the
                            <guimenuitem>"Edit Group Assignment"</guimenuitem>
                            tab will
                            be hidden (as no group assignment may exist without a group),
                            as well as the options of the group assignment in the
                            <guimenuitem>"Edit Options"</guimenuitem>
                            tab. Upon pressing the "Create" button, the group is created and the
                            according group assignment is automatically generated.
                        </para>
                        <para>
                            Note that assignments may override specific settings of their groups.
                            For group assignments, if the checkbox
                            <guimenuitem>"Overridable Multiplicity"</guimenuitem>
                            in the
                            <guimenuitem>"Group Details"</guimenuitem>
                            tab is checked the group's multiplicity may be overridden by
                            the group's assignment. I.e. the <guimenuitem>"Override Multiplicity"</guimenuitem>
                            checkbox becomes available in the <guimenuitem>"Group Assignment Details"</guimenuitem>
                            tab.
                        </para>
                        <para>
                            Also note that the group mode of a group assignment may not be changed if content
                            instances for the group assignment already exist.
                            If you want more information on groups and their specific settings please refer to
                             <xref linkend="core_structures_group_parameters"/>.
                        </para>
                    </note>
                </section>
            </section>

            <section xml:id="adm_structure_editor_property_editor">
                <title>The property editor</title>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/property_editor_general.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </mediaobject>
                </para>

                <section xml:id="adm_structure_editor_editing_properties">
                    <title>Editing property assignments</title>
                    <para>
                        Similar to the group editor, the property editor provides four tabs:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Property Assignment"</guimenuitem>
                                    tab, which gives you
                                    access to the property assignment that is selected in the structure tree.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Property"</guimenuitem>
                                    tab, which gives you
                                    access to the actual property that is assigned by the selected property
                                    assignment.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The
                                    <guimenuitem>"Edit Options"</guimenuitem>
                                    tab, which gives you
                                    access to the options of the property assignment and its property as well.
                                </para>
                            </listitem>
                             <listitem>
                                <para>
                                    Additionally the
                                    <guimenuitem>"Scripting"</guimenuitem>
                                    tab, gives you
                                    access to the scripting editor which is described in
                                    <xref linkend="adm_structure_editor_script_assignment_editor"/>.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        System internal property assignments
                        <inlinemediaobject>
                            <imageobject>
                                <imagedata fileref="images/adm_ui_structure_editor/fxAssignedPropertySystemInternal.png"
                                           format="PNG" contentwidth="66%"/>
                            </imageobject>
                        </inlinemediaobject>
                        , together with their properties may not be edited (except by users with the role Supervisor).
                        This is why all input elements are deactivated. It is only allowed to edit their options.
                    </para>
                    <note>
                        <para>
                            When creating a new property, the
                            <guimenuitem>"Edit Property Assignment"</guimenuitem>
                            tab will
                            be hidden (as no property assignment may exist without a property),
                            as well as the options of the property assignment in the
                            <guimenuitem>"Edit Options"</guimenuitem>
                            tab. Upon pressing the "Create" button, the property is created and the
                            according property assignment is automatically generated.
                        </para>
                        <para>
                            Note that property assignments may override specific settings of their property.
                            Whether a specific setting may be overwritten is controlled by the "Override property options"
                            section in the
                            <guimenuitem>"Edit Property Assignment"</guimenuitem>
                            tab and by the "Property
                            override options" section in the
                            <guimenuitem>"Edit Property</guimenuitem>
                            tab respectively.
                            <mediaobject>
                                <imageobject>
                                    <imagedata fileref="images/adm_ui_structure_editor/override_property_options.png"
                                               format="PNG"
                                               contentwidth="66%"/>
                                </imageobject>
                            </mediaobject>
                        </para>
                        If you want more information on properties and their specific settings please refer to
                        <xref linkend="core_structures_property_parameters"/>.
                    </note>
                </section>
            </section>

            <section xml:id="adm_structure_editor_options">
                <title>The options editor</title>
                <para>
                    Generally speaking an option is just a pair of a key and a value. There are
                    special structure options which trigger a special behavior. If you want more
                    information on built-in options  please refer to
                    <xref linkend="core_structures_options"/>. The user
                    may access the options by left clicking the
                    <guimenuitem>"Edit Options"</guimenuitem>
                    tab.
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/property_options.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </mediaobject>
                    Generally assignment options may override property/group options if the
                    overridable flag of the property/group option is enabled.
                    In the image above, the property has four options with the keys "SEARCHABLE",
                    "HTML.EDITOR", "MULTILINE" and "SHOW.OVERVIEW". The
                    <guimenuitem>"Overridable"</guimenuitem>
                    checkbox indicates that all options may be overriden by the assignment except
                    HTML.EDITOR.
                </para>
                <para>
                    Options can be added by specifying a key, a value and the overrideable flag
                    and clicking the
                    <guibutton>"Add"</guibutton>
                    button which is located in the
                    <guimenuitem>"Actions"</guimenuitem>
                    column of the table. An
                    option can be deleted again by selecting the according row and pressing the
                    <guibutton>"Delete"</guibutton>
                    button which is
                    also located in the
                    <guimenuitem>"Actions"</guimenuitem>
                    column of the table.
                </para>
                <para>
                    In order to facilitate the editing of options, visual helpers are provided:
                    <itemizedlist>
                        <listitem>
                            <para>
                                Option is displayed in green: This is a valid option, for example "SEARCHABLE"
                                in the property and assignment options table.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Option displayed with grey background: The assignment tries to
                                override an option which is currently not overridable, i.e "HTML.EDITOR"
                                in the assignment options table.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Option displayed in red: This is an invalid option. Either the option
                                has no key, or the option has no value, the key already exists or
                                the assignment tries to override an option with the same value. The key
                                "SHOW.OVERVIEW" exists twice in the assignment options table, therefore
                                making it invalid.
                            </para>
                        </listitem>
                    </itemizedlist>
                    In order to update the visual helpers, the "Validate" button
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/validate_button.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </inlinemediaobject>
                    on the bottom left may be clicked.
                </para>
            </section>

            <section xml:id="adm_structure_editor_script_assignment_editor">
                <title>The scripting editor</title>
                <para>
                    Scripts can be assigned to a type or property assignment using the scripting editor,
                    which is reachable by clicking on the "Scripting" tab. The number in brackets on
                    the "Scripting" tab refers to the number of scripts that have already been assigned.
                    Note that only users that are in the role of "Script Manager" may edit script assignments.
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/scripting_tab.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    Via the editor it is possible to add, remove and edit existing script assignments.
                    Clicking on a specific script name provides a shortcut to the
                    script editor where the script code can be inspected or changed.
                    In order to create a script assignment a script and a script event (which indicates
                    when a script will be run) need to be chosen. Naturally, types and assignments provide
                    different subsets of script events to choose from.
                </para>
                <para>
                    Additionally it is possible to activate and deactivate script assignments. For deactivated
                    script assignments, script execution will be prevented. It is also possible to make script
                    assignments available for derived usage in derived child types or property assignments.
                    Derived script assignments in the derived type or assignment can not be directly
                    edited in the scripting editor. Instead
                    a link to the parent is provided, which opens the script assignment editor
                    of the parent type where changes can be made and are in turn propagated to all derived children.
                </para>
                <para>
                    If you want more information on scripts and their specific settings please refer to
                    <xref linkend="core_scripting"/>.
                </para>
            </section>

            <section xml:id="adm_structure_editor_saving_and_deleting">
                <title>Saving and deleting</title>
                <para>
                    In order to save changes the editors provide the
                    <guibutton>"Save"</guibutton>
                    button
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/save_button.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </inlinemediaobject>
                    located at the bottom left of of every tab. (if the editor is in <glossterm>edit mode</glossterm>). A shortcut to the button
                    <caution>
                        Pressing the "Save" button persists all changes within the editor's tabs, meaning
                        all changes that have been made to the assignment, to the property/group to the options,
                        and to scripting, although only one tab is visible.
                    </caution>
                </para>
                <para>
                    For deleting assignments and types, the editors provide the
                    <guibutton>"Delete"</guibutton>
                    button
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_structure_editor/delete_button_assignment.png" format="PNG"
                                       contentwidth="66%"/>
                        </imageobject>
                    </inlinemediaobject>
                    at the bottom right of the tab. A shortcut to the button can also be
                    found on top of the content frame.
                    <note>
                        <para>
                            By deleting an assignment, the property/group itself
                            is not automatically deleted. Only if the property/group is not
                            assigned to another group or type anymore
                            , the property/group will be removed from the database.
                        </para>
                    </note>
                </para>
            </section>
        </section>

        <section xml:id="adm_structure_export_import">
            <title>Structure export and import</title>
            <para>Type definitions (together with their groups and properties)
                can be exported as groovy script which contains all necessary instructions
                to rebuild the exported type definition(s) from scratch. This script can later be
                run import the structures again. An export as XML structure is also supported.
                The export and import of type definitions between different &flexive;
                distributions enables the export and import of content instances
                based on these type definitions.
            </para>
             <section xml:id="adm_structure_export">
                 <title>Structure export GUI</title>
                 <para>
                     The structure export GUI can be invoked via the context menu by right clicking
                     on a type and choosing "Export Type" in the structure tree.
                     <mediaobject>
                         <imageobject>
                             <imagedata fileref="images/adm_ui_structure_editor/structure_export.png" format="PNG"
                                     contentwidth="66%"/>
                         </imageobject>
                     </mediaobject>
                     Per default the "Export Results" tab is active, showing the
                     "Summary of exported Structures" and the "Exported structures as a
                     Groovy script" panels.
                     <section xml:id="adm_structure_export_results_tab">
                         <title>Export Results Tab</title>
                         <para>
                             The summary panel displays useful information
                             about the structures to be exported and also contains the "Groups" panel
                             showing the type's groups, the "Dependencies" panel, showing dependencies
                             caused by derived assignments and the script assignments panel showing
                             assigned scripts.
                         </para>
                         <para>
                             The "Exported structures as a Groovy script" panel provides various
                             export options
                             that influence the exported Groovy script together with a preview of the
                             exported script.
                             <mediaobject>
                                 <imageobject>
                                    <imagedata fileref="images/adm_ui_structure_editor/structure_export_options.png" format="PNG"
                                     contentwidth="66%"/>
                                 </imageobject>
                             </mediaobject>
                             The export options include:
                             <itemizedlist>
                                 <listitem>
                                    <para>
                                        Add script event assignment code:
                                        If toggled, assigned scripts (script code and script assignments)
                                        are exported as well.
                                   </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Add package import statements:
                                        If toggled needed package import statements are added at the beginning of the
                                        export script.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Overwrite existing scripts:
                                        If toggled exported scripts override the scripts of the target &flexive;
                                        distribution if already present.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Add code to delete structures/instances: If toggled
                                        code is added to the beginning of the script
                                        that deletes the exported structures in the target &flexive;
                                        distribution if they are already existing. This is useful
                                        to prevent errors that occur if the
                                        script contains structures that
                                        may already exist in the target &flexive; distribution.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Export structures using only the default GroovyTypeBuilder options:
                                        If not toggled structures are exported using all structure information.
                                        This includes for example assignment and type options, labels, acl settings etc.
                                        If toggled, the exact structure information is discarded and types, properties
                                        assignments and groups are rebuilt using only the default options.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Add &flexive; SYSTEM types:
                                        If toggled &flexive; system internal types/system internal properties
                                        (for example the ROOT type together with system internal property dependencies)
                                        are exported as well.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Add Workflow name:
                                        If toggled also exports the assigned workflow name. Note that really only the
                                        workflow's name is exported, which means that the workflow must exist on the
                                        target flexive distribution.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Convert international characters to unicode representation:
                                        If toggled international characters are converted to their unicode representation.
                                        This is handy for systems which don't use UTF-8 per default.
                                    </para>
                                </listitem>
                            </itemizedlist>
                         </para>
                     </section>
                     <section xml:id="adm_structure_export_tab">
                         <title>Structure Export Tab</title>
                         <para>
                             The "Structure Export Tab" provides the possibility to
                             export arbitrary type definitions as a batch in XML format
                             or as Groovy Script.
                         </para>
                         <para>
                             The export options to choose from are similar to those described in
                             <xref linkend="adm_structure_export_results_tab"/>. If the user
                             chooses to export the selected type definitions as Groovy script
                             the "Export Results" tab is opened and initialized
                             with the specified type definitions. If the user chooses the XML export
                             an XML is file provided for download.
                         </para>
                     </section>
                 </para>
             </section>
             <section xml:id="adm_structure_import">
                 <title>Structure import GUI</title>
                 <para>
                     The structure import GUI can be invoked via the "Structures" drop down menu
                     in the menu bar of the structure tree.
                     <mediaobject>
                         <imageobject>
                             <imagedata fileref="images/adm_ui_structure_editor/structure_import.png" format="PNG"
                                     contentwidth="66%"/>
                         </imageobject>
                     </mediaobject>
                     The GUI supports Groovy script import and XML import via a file upload or by pasting
                     the code into the inline editor. After a file was chosen for the file upload or
                     the code was pasted into the editor, the import process is triggered by
                     pressing the "Import" button.
                 </para>
             </section>
        </section>
    </section>

    <section xml:id="adm_instance_editor">
        <title>The instance editor</title>
        <para>The instance editor allows you to create and edit
            <link linkend="core_contents">content instances</link>.
        </para>
        <para>It can be accessed via the</para>
        <para>
            <itemizedlist>
                <listitem>
                    <link linkend="adm_content_tree">Content tree</link>
                </listitem>
                <listitem>
                    <link linkend="adm_structure_editor_gui">Structure tree</link>
                </listitem>
                <listitem>
                    <link linkend="adm_query_editor">Query editor / query results</link>
                </listitem>
            </itemizedlist>
        </para>
        <para>As you might expect, the content tree and the query results contain already created instances. From the
            structure tree it is possible to create new content
            instances which can be attached to the content tree.
        </para>
        <para>By default, the instantiated type's properties are displayed as input fields on the initialization of an
            instance. Non mandatory properties can be skipped and added again, when needed.
        </para>
        <section xml:id="adm_instance_editor_creating_editing">
            <title>Creating and editing contents</title>
            <para>These are the UI elements of the instance editor:</para>
            <para>
                <orderedlist>
                    <listitem>The
                        <link linkend="adm_ACL">ACL</link>
                        to choose for this instance
                    </listitem>
                    <listitem>The
                        <link linkend="adm_workflow">workflow</link>
                        step to choose for this instance
                    </listitem>
                    <listitem>The node of the content tree which the instance is attached to</listitem>
                    <listitem>The version and access information</listitem>
                    <listitem>Single
                        <link linkend="adm_structure_editor_property_editor">properties</link>
                        as input fields
                    </listitem>
                    <listitem>Grouped properties</listitem>
                </orderedlist>
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_instance_editor/content_instance.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>After saving you will get the following screen. You can see that the fields which have not been filled
                in,
                disappeared. No matter, you can add them again by clicking on the symbol for the single fields (1) or
                by clicking on the symbol for the grouped fields (2).
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_instance_editor/content_instance_saved.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>It is possible to create a new version of the instance.</para>
            <para>To learn more about versioning in &Flexive; see the
                <link linkend="core_contents">Content Engine</link>
                section.
            </para>
        </section>
    </section>

    <section xml:id="adm_content_tree">
        <title>The content tree</title>
        <para>The content tree contains content instances of any type. It can be used i.e. in a Content Management
            System, where the page tree of a website can be administered inside the &Flexive; backend administration.
            Mind that when we speak of the content tree, in fact we speak of 2 separate trees. The live and the edit
            tree.
            This will be explained in detail in this section.
            You can find the content tree in the tab
            <filename>Content Tree</filename>.
        </para>
        <section xml:id="adm_content_tree_modes">
            <title>Modes of the content tree</title>
            <para>The content tree GUI allows you to administer the 2 separate trees:
                <para>
                    <orderedlist>
                        <listitem>The Live Tree</listitem>
                        <listitem>The Edit Tree</listitem>
                    </orderedlist>
                </para>
                <para>
                    The Live tree holds content instances which have been activated in the edit tree. It is not
                    possible to create content instances directly in the live tree. You can activate tree nodes,
                    representing content instances, or
                    subtrees via the
                    <link linkend="adm_content_tree_context_menu">content tree's
                        context menu</link>.
                </para>
                <para>Furthermore it is possible to change the appearence of the node's textual representation. You
                    can choose between the caption and the node path of a tree node.
                </para>
            </para>
            <para>The UI provides the following elements to handle these different views:
            </para>
            <para>
                <orderedlist>
                    <listitem>Button to switch between caption and node paths</listitem>
                    <listitem>Button to switch between edit and live tree</listitem>
                </orderedlist>
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_content_tree/tree_live_edit_switch.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>See the core components chapter
                <link linkend="core_tree_live_edit">edit and live modes</link>
                for additional information.
            </para>
        </section>
        <section xml:id="adm_content_tree_context_menu">
            <title>The content tree's context menu</title>
            <para>To activate the context menu rightclick on a tree node. Not all features shown on the following
                screenshot are always available. For example, attaching a content instance is only possible, if the
                instance has been
                loaded into the instance editor before.
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_content_tree/content_tree_contextmenu.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>
                The context menu provides the following functionality:
                <variablelist>
                    <varlistentry>
                        <term>
                            <code>Attach content here</code>
                        </term>
                        <listitem>
                            <para>
                                Attach an, into the instance editor loaded, instance to the content tree.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Open</code>
                        </term>
                        <listitem>
                            <para>
                                Load an instance into the instance editor in view mode.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Edit</code>
                        </term>
                        <listitem>
                            <para>
                                Load an instance into the instance editor in edit mode.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Rename</code>
                        </term>
                        <listitem>
                            <para>
                                Rename the instance directly in the content tree's in-place editor.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Create folder</code>
                        </term>
                        <listitem>
                            <para>
                                Create a folder on the target node.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Create content ...</code>
                        </term>
                        <listitem>
                            <para>
                                Create a content instance on the target node.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Activate</code>
                        </term>
                        <listitem>
                            <para>
                                Activate the node for the live tree.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Activate subtree</code>
                        </term>
                        <listitem>
                            <para>
                                Activate the subtree for the live tree.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Paste</code>
                        </term>
                        <listitem>
                            <para>
                                Paste a formerly copied content into a tree node. The tree node becomes
                                the parent of the pasted content instance.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Cut</code>
                        </term>
                        <listitem>
                            <para>
                                Cut a content instance from its position.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Copy</code>
                        </term>
                        <listitem>
                            <para>
                                Copy a content instance.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Detach content</code>
                        </term>
                        <listitem>
                            <para>
                                Detach a content instance from the content tree.
                                If a node to detach has children they will be shifted onto the detached node's level.
                                See chapter
                                <link linkend="core_tree">Tree Engine</link>
                                for further details.
                                <para>
                                    <emphasis>Note:</emphasis>
                                    Content instances of type
                                    <filename>folder</filename>
                                    are deleted permanently if detached.
                                </para>
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>Delete</code>
                        </term>
                        <listitem>
                            <para>
                                Delete a content instance permanently.
                            </para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </para>
        </section>
    </section>

    <section xml:id="adm_query_editor">
        <title>The query editor</title>
        <para>
            The query editor allows you to search for already created content instances. You can formulate
            complex queries on structures and their properties, it's like building SQL statements visually.
        </para>
        <para>The elements of the query result set can be attached to the
            <link linkend="adm_content_tree">content tree</link>
            or saved into a briefcase, which can be shared among users. A query can also be saved.
        </para>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adm_ui_query_editor/build_query.png"
                           format="PNG" contentwidth="100%"/>
            </imageobject>
        </mediaobject>
        <section xml:id="adm_query_editor_creating_queries">
            <title>Creating queries with the visual query editor</title>
            <para>To access the query editor go to the
                <filename>Search</filename>
                tab of the &Flexive; backend administration. It is also accessible via the
                <filename>FxSQL / Search</filename>
                menu item in the
                <filename>Administration</filename>
                tab. Open the query editor and rightclick on nodes of the
                <link linkend="adm_content_tree">content tree</link>
                and
                <link linkend="adm_structure_editor_gui">structure tree</link>
                to formulate your query. You can add as many nodes as you want.
                You can also search on
                <link linkend="adm_structure_editor_property_editor">structure properties</link>.
            </para>
            <para>
                Select the chosen query elements with Shift or Ctrl and rightclick on them to use the context
                menu to create subqueries with con/disjunctions.
            </para>
            <para>The following screen shows a formulated query in the query editor. You can nest your subqueries
                infinitely.
            </para>
            <para>The following comparison operators are available:</para>
            <para>
                <variablelist>
                    <varlistentry>
                        <term>
                            <code>=</code>
                        </term>
                        <listitem>
                            <para>
                                Expression is equal
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>not equal</code>
                        </term>
                        <listitem>
                            <para>
                                Expression is not equal
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>is empty</code>
                        </term>
                        <listitem>
                            <para>
                                Expression is empty
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>is not empty</code>
                        </term>
                        <listitem>
                            <para>
                                Expression is not empty
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>
                            <code>like</code>
                        </term>
                        <listitem>
                            <para>
                                Partial match. Use the
                                <code>%</code>
                                character, meaning
                                <emphasis>any character(s)</emphasis>,
                                to build your expression.
                                Mind that the term
                                <emphasis>any character(s)</emphasis>
                                implies
                                <emphasis>no</emphasis>
                                character. Expression is case insensitive.
                            </para>
                            <para>
                                The following examples illustrate the usage of
                                <code>like</code>
                                in sql statements and the &Flexive; query editor. Assuming a user with first name
                                <code>John</code>
                                exists in the database, you could search for him (and all other matching names) using
                                the following patterns.
                                <variablelist>
                                    <varlistentry>
                                        <term>
                                            <code>%oh%</code>
                                        </term>
                                        <listitem>
                                            <para>Search for
                                                <code>oh</code>
                                                preceded and followed by any character(s), meaning all words containing
                                                <code>oh</code>.
                                            </para>
                                        </listitem>
                                    </varlistentry>
                                    <varlistentry>
                                        <term>
                                            <code>jo%</code>
                                        </term>
                                        <listitem>
                                            <para>Search for
                                                <code>jo</code>
                                                followed by any character(s), meaning all words starting with
                                                <code>jo</code>.
                                            </para>
                                        </listitem>
                                    </varlistentry>
                                </variablelist>
                            </para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </para>
            <section xml:id="adm_query_editor_result">
                <title>Query results</title>
                <para>If the query with your provided search criteria was successful, the result set will be
                    displayed.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_query_editor/query_result.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>Rightclick on an item of the result set to activate the context menu.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_query_editor/query_result_context_menu.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    <variablelist>
                        <varlistentry>
                            <term>Show</term>
                            <listitem>
                                <para>View instance.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Show screenview</term>
                            <listitem>
                                <para>Show preview (images).</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Edit</term>
                            <listitem>
                                <para>Edit instance.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Copy</term>
                            <listitem>
                                <para>Copy instance and</para>
                                <para>
                                    <itemizedlist>
                                        <listitem>paste it into a briefcase</listitem>
                                        <listitem>attach it to a content tree's node</listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Delete</term>
                            <listitem>
                                <para>Delete instance permanently.</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </para>
            </section>
            <section xml:id="adm_query_editor_queries_briefcases">
                <title>Saved queries and briefcases</title>
                <para>You can save your query or save the query result to a briefcase by checking the options in the
                    query editor before executing the query. A briefcase can be public or private, meaning shared or
                    not shared among other users. Saved queries and briefcases can be found in the
                    <filename>Search</filename>
                    tab of the &Flexive; backend administration.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_query_editor/search_tab.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
        </section>
    </section>

    <section xml:id="adm_fxsql">
        <title>The FxSQL Search</title>
        <para>In addition to the
            <link linkend="adm_query_editor">visual query editor</link>
            the &Flexive; administration UI provides an input mask,
            shown on the following screen, to
            execute
            <link linkend="core_search_sqlintro">FxSQL</link>
            statements directly. It is also possible to create
            <link linkend="adm_query_editor_queries_briefcases">briefcases</link>
            from the result set. The input mask
            can be found in the
            <filename>FxSQL / Search</filename>
            menu item of the
            <filename>Administration</filename>
            tab.
        </para>
        <para>
            <link linkend="core_search_sqlintro">FxSQL</link>
            is a &Flexive; SQL (structured query language) dialect.
        </para>
        <para>In the following example on the screen the primary keys of all content instances are selected from
            the table
            <code>content</code>.
        </para>
        <para>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/adm_ui_query_editor/fxsql_search.png"
                               format="PNG" contentwidth="100%"/>
                </imageobject>
            </mediaobject>
        </para>
    </section>

    <section xml:id="adm_administration">
        <title>&Flexive; administration</title>
        <section xml:id="adm_user">
            <title>User account administration</title>
            <para>
                The &Flexive; user account administration UI provides an administration
                interface to administer your
                user accounts, assign
                <link linkend="adm_user_group">createuser groups</link>
                and roles and make other settings like activation and language settings.
            </para>
            <section xml:id="adm_user_create_user">
                <title>Creating a user</title>
                <para>The following screen shows the user account editor when creating a new user.</para>
                <para>
                    Roles are a key feature of the &Flexive;
                    <link linkend="core_security">security concept</link>.
                    There are two ways to assign roles to a user.
                </para>
                <para>
                    <orderedlist>
                        <listitem>Direct assignment</listitem>
                        <listitem>Inheritance through user group membership</listitem>
                    </orderedlist>
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user/create_user.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>After creation, you will be redirected to the user account overview where you can edit and delete
                    users.
                </para>
            </section>
            <section xml:id="adm_user_overview">
                <title>The user account overview</title>
                <para>The following screen shows the user group overview.</para>
                <para>
                    You can see the two system defined accounts:
                    <variablelist>
                        <varlistentry>
                            <term>Guest</term>
                            <listitem>
                                <para>Everyone who is not logged in is treated as guest.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>SUPERVISOR</term>
                            <listitem>
                                <para>This user is in all roles and may operate on all mandators.</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                    These two accounts cannot be removed.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user/user_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                    By clicking the edit icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user/edit.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    a user account may be edited and by clicking the delete icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user/delete.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    a user account may be deleted.
                </para>
            </section>
        </section>
        <section xml:id="adm_user_group">
            <title>User group administration</title>
            <para>The user group editor allows you to create and edit user groups.
                You can specify a group name, a color and
                assign roles to the group.
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_user_groups/usergroup_editor.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            After saving you will be redirected to the user group overview.
            <section xml:id="adm_user_group_overview">
                <title>The user group overview</title>
                <para>The following screen shows the user account overview.
                    The default system user groups cannot be deleted:
                    <variablelist>
                        <varlistentry>
                            <term>Everyone (Default)</term>
                            <listitem>
                                <para>For every
                                    <link linkend="adm_mandator">mandator</link>
                                    an according "Everyone" group is created automatically.
                                    In order to be able to distinguish the different "Everyone" groups,
                                    the mandator's name is shown in the brackets. The "Everyone(Default)" group
                                    contains every user of the mandator named
                                    <emphasis>
                                        Default
                                    </emphasis>
                                    .
                                </para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Everyone</term>
                            <listitem>
                                <para>System user group containing every user of every mandator.
                                </para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Owner</term>
                            <listitem>
                                <para>The system user group <filename>Owner</filename> is used to assign ACLs and thereby grant permissions
                                    to content owners (i.e. users that created content).
                                </para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user_groups/usergroup_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                    By clicking the edit icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user_groups/edit.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    a user group may be edited and by clicking the delete icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_user_groups/delete.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    a user group may be deleted.
                </para>
            </section>
        </section>
        <section xml:id="adm_mandator">
            <title>Mandator administration</title>
            <para>This chapter explains the administration UI for mandators. Please see section
                <link linkend="core_security_mandators">Mandators</link>
                in chapter
                <link linkend="core_security">Security</link>
                for an explanation of the concept of mandators used in &Flexive;.
            </para>
            <section xml:id="adm_mandator_create">
                <title>Creating a mandator</title>
                <para>The following screen shows the mandator editor. You can specify a name for the mandator and set the
                    activation flag.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_mandator/mandator_editor.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                After creating a mandator, you will be redirected to the overview for mandators.
            </section>
            <section xml:id="adm_mandator_overview">
                <title>The mandator overview</title>
                <para>In the mandator overview mandators can be edited and deleted.</para>
                <para>In the following screen you can see the mandator named
                    <emphasis>Default</emphasis>.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_mandator/mandator_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
        </section>
        <section xml:id="adm_ACL">
            <title>ACL administration</title>
            <para>The ACL administration UI provides an ACL editor to edit
                and create ACLs and to set permissions for
                <link linkend="adm_user_group">user groups
                </link>
                in the permission matrix. ACLs are a key feature of the &Flexive;
                <link linkend="core_security">security concept</link>.
            </para>
            <section xml:id="adm_ACL_create">
                <title>Creating an ACL</title>
                <para>The following screen shows the ACL editor in create mode.</para>
                <para>
                    You must specify
                    <orderedlist>
                        <listitem>
                            <para>The
                                <link linkend="adm_mandator">mandator</link>
                            </para>
                        </listitem>
                        <listitem>
                            <para>The ACL's name</para>
                        </listitem>
                        <listitem>
                            <para>The ACL's label</para>
                        </listitem>
                        <listitem>
                            <para>A color</para>
                        </listitem>
                        <listitem>
                            <para>A category</para>
                            <para>Please see chapter
                                <link linkend="core_security_acl">ACL's - Access Control Lists</link>
                                for information about ACL categories in &Flexive;.
                            </para>
                            <para>The following categories are available:</para>
                            <para>
                                <itemizedlist>
                                    <listitem>
                                        <link linkend="core_contents">Instance</link>
                                    </listitem>
                                    <listitem>
                                        <link linkend="core_structure">Structure</link>
                                    </listitem>
                                    <listitem>
                                        <link linkend="core_workflow">Workflow</link>
                                    </listitem>
                                    <listitem>
                                        <link linkend="adm_query_editor_queries_briefcases">Briefcase</link>
                                    </listitem>
                                    <listitem>
                                        <link linkend="adm_selectlists">SelectList</link>
                                    </listitem>
                                    <listitem>
                                        <link linkend="adm_selectlists">SelectList Item</link>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>An optional description</para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_acl/acl_editor.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                After pressing the "Create" button the permission matrix becomes available.
            </section>
            <section xml:id="adm_acl_permission_matrix">
                <title>The permission matrix</title>
                <para>The permission matrix is available in the ACL editor for already created ACLs.
                    Add rows to assign the ACL to user groups
                    and toggle the checkboxes in the matrix to grant permissions.
                    For deleting an assignment to a user group the delete icon needs to be clicked.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_acl/acl_editor_saved.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    In this example the user group
                    <emphasis>Everyone</emphasis>
                    (a user group automatically containing every user)
                    has read permissions on content instances using this ACL.
                    Users that are a member of the user group
                    <emphasis>Account Managers</emphasis>
                    have read and edit permission on content instances using this ACL.
                    (please note that
                    <emphasis>Account Managers</emphasis>
                    would already have read permission anyway
                    due to their membership to user group
                    <emphasis>Everyone</emphasis>
                    but we added read permission here in case someone decides to remove group
                    <emphasis>Everyone</emphasis>
                    from this ACL at a later date and we still want to keep the read permission).
                    Members of the user group
                    <emphasis>Editors</emphasis>
                    may additionally create, delete and export content instances using this ACL.
                </para>
            </section>
            <section xml:id="adm_acl_overview">
                <title>The ACL overview</title>
                <para>On the following screen you can see the default ACLs for each
                    <link linkend="adm_ACL_create">category</link>
                    and a user defined ACL (myacl).
                </para>
                <para>You can switch between different mandators with the select box on top of the list.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_acl/acl_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                By clicking the edit icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_acl/edit.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    an ACL be edited and by clicking the delete icon
                    <inlinemediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_acl/delete.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </inlinemediaobject>
                    an ACL may be deleted.
                </para>
            </section>
        </section>

        <section xml:id="adm_workflow">
            <title>Workflow administration</title>
            <para>The &Flexive; workflow administration UI allows you to define
                <link linkend="adm_workfow_step_definition">step definitions</link>
                and workflows. Step definitions
                are used as steps in one or more workflows. You can define
                <link linkend="core_workflow_overview">routes</link>
                between these steps.
                See the core component chapter
                <link linkend="core_workflow">Workflow Engine</link>
                for additional information about workflows in &Flexive;.
            </para>
            <section xml:id="adm_workfow_step_definition">
                <title>Step definitions</title>
                <para>In order to create a step the step's name and label are required. You may decide
                    to allow only one content version in the step. See
                    <link linkend="core_workflow_overview">unique target</link> for more details
                    about this concept.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/create_step_def.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
            <section xml:id="adm_workfow_step_definition_overview">
                <title>Step definition overview</title>
                <para>Existing workflow steps may be edited and deleted via
                    the step definition overview.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/step_def_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
            <section xml:id="adm_workflow_create">
                <title>Creating a workflow</title>
                <para>In order to create a workflow a name is required
                    and an optional description may be added.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/create_workflow.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>After the creation of a workflow, the workflow editor is
                    opened automatically.
                </para>
            </section>
            <section xml:id="adm_workflow_edit">
                <title>Editing a workflow</title>
                <para>The basic elements of a workflow are:</para>
                <para>
                    <variablelist>
                        <varlistentry>
                            <listitem>
                                <para>
                                    Steps: Previously defined steps definitions
                                    may be used as steps in a workflow. Each step needs
                                    an ACL of category workflow assigned to it. See
                                    <link linkend="adm_ACL_create">workflow ACL</link> for
                                    details about ACL creation.
                                </para>
                            </listitem>
                            <listitem>
                                <para>Routes:
                                    Routes define the possible transitions from one workflow step
                                    to another. Each route must have a
                                    <link linkend="adm_user_group">user group</link>
                                    assigned representing users who may perform this transition.
                                </para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/edit_workflow.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>The following diagram illustrates the routes defined in the example workflow
                    displayed on the screenshot.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/workflow_routes.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
            <section xml:id="adm_workflow_overview">
                <title>The workflow overview</title>
                <para>Via the workflow overview existing workflows can be edited or deleted.
                    Mind that you cannot delete workflows which are already in use.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_workflow/workflow_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
        </section>
        <section xml:id="adm_scripts">
            <title>Script administration</title>
            The &Flexive; script administration allows you to create and edit scripts via the script editor
            and to execute
            scripts directly in the
            <link linkend="adm_scripts_console">script console</link>. The scripting language of
            choice is Groovy, but if JavaSE 6 or higher is
            used any language supported by the Java Scripting API can be used. Please see the section
            <link linkend="core_scripting">Scripting Engine</link>
            for more information about scripting in &Flexive;.
            <section xml:id="adm_scripts_create">
                <title>Creating a script</title>
                <para>Before a script can be created a valid name is required. After a valid name has been
                    provided in the "Name" text field, the script editor and the additional buttons become
                    available. A script requires a script event and of course some code.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_scripts/create_script.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>If the default script event is set to
                    <code>Manual</code>, the script can be directly
                    executed via the "Run script" button or via the
                    administration UI in the
                    <link linkend="adm_scripts_overview">script overview</link>.
                </para>
                <para>The "Syntax check" button is available for all Groovy scripts (checking for a
                    .gy or .groovy extension. The "Add default imports" adds the most commonly used
                    &flexive; classes to the import statements of the script.
                </para>
                <para>
                    <table class="flexive" xml:id="script_event_list">
                        <caption>FxScriptEvent list</caption>
                        <thead>
                            <tr>
                                <th colspan="3">List of available events</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <itemizedlist>
                                        <listitem>
                                            <code>Manual</code>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BeforeContentSave</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterContentSave</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeContentCreate</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterContentCreate</code>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BeforeContentRemove</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterContentRemove</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterContentLoad</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterContentInitialize</code>
                                        </listitem>
                                        <listitem>
                                            <code>PrepareContentCreate</code>
                                        </listitem>
                                        <listitem>
                                            <code>PrepareContentSave</code>
                                        </listitem>
                                    </itemizedlist>
                                </td>
                                <td>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BeforeDataChangeUpdate</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterDataChangeUpdate</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeDataChangeDelete</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterDataChangeDelete</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeDataChangeAdd</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterDataChangeAdd</code>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BeforeAssignmentDataCreate</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterAssignmentDataCreate</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeAssignmentDataSave</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterAssignmentDataSave</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeAssignmentDataDelete</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterAssignmentDataDelete</code>
                                        </listitem>
                                    </itemizedlist>
                                </td>
                                <td>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BinaryPreviewProcess</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterAccountCreate</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterTreeNodeAdded</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterTreeNodeRemoved</code>
                                        </listitem>
                                        <listitem>
                                            <code>BeforeTreeNodeRemoved</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterTreeNodeActivated</code>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <code>BeforeTreeNodeActivated</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterTreeNodeFolderReplacement</code>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <code>AccountLogin</code>
                                        </listitem>
                                        <listitem>
                                            <code>AccountLogout</code>
                                        </listitem>
                                        <listitem>
                                            <code>AfterAccountCreate</code>
                                        </listitem>
                                    </itemizedlist>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </para>
            </section>
            <section xml:id="adm_scripts_overview">
                <title>The script overview</title>
                <para>The following screen shows the script overview. You can see the script
                    <filename>myscript.groovy</filename> at the bottom of the table
                    , which can be executed manually via the administration UI,
                    and other scripts, bound to different
                    <link linkend="script_event_list">events</link>.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_scripts/script_overview.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    By clicking the edit icon
                        <inlinemediaobject>
                            <imageobject>
                                <imagedata fileref="images/adm_ui_scripts/edit.png"
                                           format="PNG" contentwidth="100%"/>
                            </imageobject>
                        </inlinemediaobject>
                        a script may be edited and by clicking the delete icon
                        <inlinemediaobject>
                            <imageobject>
                                <imagedata fileref="images/adm_ui_scripts/delete.png"
                                           format="PNG" contentwidth="100%"/>
                            </imageobject>
                        </inlinemediaobject>
                        a script may be deleted.
                </para>
            </section>
            <section xml:id="adm_scripts_console">
                <title>The Script Console</title>
                <para>The following screen shows the &Flexive; Script console. It allows you to execute scripts directly
                    at the EJB layer or at the Web layer.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_scripts/script_console.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>You can choose between the following languages and file extensions:</para>
                    <itemizedlist>
                        <listitem>
                            <code>gy: Groovy v1.5.1 (Bundled GroovyShell v1.5.1)</code>
                        </listitem>
                        <listitem>
                            <code>groovy: Groovy v1.5.1 (Bundled GroovyShell v1.5.1)</code>
                        </listitem>
                        <listitem>
                            <code>js: ECMAScript v1.6 (Mozilla Rhino v1.6 release 2)</code>
                        </listitem>
                    </itemizedlist>
                <para>If you want to execute the script on the web layer, check the option
                    <code>Execute at Web layer</code>.
                    Mind that this feature is only available for bundled Groovy!
                    Buttons to add the most used &flexive; imports and to check the syntax are
                    available as well.
                </para>
                <section>
                    <title>Script example</title>
                    <para>The Groovy code in this example creates a new tree node in the
                        <link linkend="adm_content_tree_modes">Edit tree</link>
                        of the
                        <link linkend="adm_content_tree">Content Tree</link>. The
                        node's name is
                        <code>NodeName</code> and its label <code>NodeLabel</code>.
                    </para>
                    <para>You might want to copy paste the example and try it out. Don't forget
                        to refresh the content tree to view the results!
                    </para>
                    <para>
                        <xi:include href="listings/adm_scripts_console_example.xml"></xi:include>
                    </para>
                </section>
            </section>
        </section>
        <section xml:id="adm_selectlists">
            <title>Select list administration</title>
            The &Flexive;
            <link linkend="core_structure_selectlists">select list</link>
            administration allows you to create, edit and delete select lists.
            <section xml:id="adm_selectlists_create">
                <title>Creating a select list</title>
                <para>A select list requires a unique name, an ACL that controls the permissions for users
                    regarding creating and deleting select list items (Create items ACL) and
                    an ACL which is assigned to newly created select list items per default
                    (ACL for new items).
                </para>
                <para>
                    Providing a label, description allowing
                    <link linkend="core_structure_selectlist_parameters">dynamic item creation</link>,
                    specifying the breadcrumb separator and confining select item multi-selection
                    to the same level is optional.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_selectlists/create_selectlist.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    After the user presses the "Create" button the select list is created and
                    new select items may be added.
                </para>
            </section>
            <section xml:id="adm_selectlists_edit">
                <title>Editing a select list and its select items</title>
                <para>A select list consists of
                    <link linkend="core_structure_selectlist_item_parameters">select list items</link>
                    . The select list editor allows you to add and delete
                    select list items. The user can only add items to select lists after it has
                    been created.
                </para>
                <para>
                    A select list item requires a name, a label and an ACL of category
                    <code>SelectList Item</code>.
                    Additionally <code>String</code> data may be stored within the select item
                    a color may be selected to improve GUI display and already created select items
                    may be assigned as sub-elements of this select item. Select items are created by
                    pressing the "Create new item" button.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_selectlists/create_selectitem.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>
                    Existing select items may be modified (edit icon),
                    repositioned within the select list (up and down arrows) and deleted.
                </para>
            </section>
            <section xml:id="adm_selectlists_overview">
                <title>Select list overview</title>
                <para>
                    The select list overview displays all existing select list and
                    enables the user to edit, delete and create new select lists.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_selectlists/overview_selectlist.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
        </section>
        <section xml:id="adm_export_import">
            <title>Export and Import of Structures and Division</title>
            <para>The import and export of structures is already described in
                <xref linkend="adm_structure_export_import"/>.
                Additionally the Administration GUI provides the possibility to
                export and import whole divisions.
            </para>
            <para>
                 <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_import_export/division_import_export.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>
                In order to export a division, a file name (including full path) has to be provided
                and the "Export" button needs to be pressed. The division export creates
                a .ZIP file using the given file name containing all division data.
                Note: If only a file name (without path) is specified, the file is created in the
                current working directory.
                After a successful division export the user feedback displays the the exact path of the
                export file.
            </para>
            <para>
                In order to import a division, the file name of the export .ZIP file has to be specified
                and the "Examine" button has to be pressed. After pressing the "Examine" button
                information about the exported division is displayed.
            </para>
            <para>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_import_export/division_examine_import.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>
                Now the user can import the division by pressing the "Import" button.
            </para>
        </section>
        <section xml:id="adm_system">
            <title>System administration</title>
            <para>The System administration contains on the one hand tools that
                display and allow to modify system settings and configuration
                and on the other hand tools that simply don't fit in anywhere else.
            </para>
             <para>
                 <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_system/system_administration_overview.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
            </para>
            <para>
                The available tools are described in the following sub-sections.
            </para>
            <section xml:id="adm_system_search">
                <title>Search settings</title>
                <para>
                    The search settings provide three tools:
                    <itemizedlist>
                        <listitem>
                            <para>
                                &fxsql; Query: The &fxsql; GUI provides a text area where the user may
                                submit <link linkend="core_search">FxSQL</link> queries and
                                optionally create  <link linkend="adm_query_editor_queries_briefcases">briefcases</link>.
                                <mediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_system/fxsql_query.png"
                                                   format="PNG" contentwidth="100%"/>
                                    </imageobject>
                                </mediaobject>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Default query: Allows the definition of a system-wide default query for &flexive;
                                backend users using the <link linkend="adm_query_editor">query editor</link>.
                            </para>
                        </listitem>
                         <listitem>
                            <para>
                                Default result preferences: Allows a fine grained control about what properties
                                and in which order properties are displayed when searching for a content type.
                               <mediaobject>
                                    <imageobject>
                                        <imagedata fileref="images/adm_ui_system/default_result_preferences.png"
                                                   format="PNG" contentwidth="100%"/>
                                    </imageobject>
                                </mediaobject>
                                For every existing content type the properties that should be displayed in a result set
                                can be selected. Via the "Add entry" button properties can be selected, and their position
                                can be changed using the arrow icons. Properties can be removed from the result set
                                again using the trash can icon.
                             </para>
                             <para>
                                Different property sets for different view types are supported. I.e. the user may choose
                                to display certain properties in <code>Thumbnails</code>> mode and different properties
                                in <code>List</code> mode.
                            </para>
                            <para>
                                Different property sets for different search locations are also supported. The
                                <link linkend="css_feature_userdefined">search location</link>
                                is a parameter that can be supplied to a  &fxsql; search query in order to provide contextual
                                information from which location the search was issued. In practice different search locations
                                are used to display different property sets which can be customized:
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            Content results: Search location used by the &flexive; backend when searching for
                                            contents.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Browse references popup: Search location used by the &flexive;
                                            <link linkend="adm_instance_editor ">content instance
                                            editor</link> for displaying referenced contents.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Default location: Fallback search location which is used when the search
                                            location parameter is not set.
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="adm_system_cmis_sql_query">
                <title>CMIS SQL query</title>
                <para>
                    The CMIS SQL GUI provides a text input area for CMIS compatible SQL queries.
                </para>
            </section>
            <section xml:id="adm_system_configuration">
                <title>System Configuration</title>
                <para>
                    The System configuration allows the user to modify &flexive; system settings.
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_system/system_configuration.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                The configuration includes:
                <itemizedlist>
                    <listitem>
                        <para>
                            Enable live tree: if this option is disabled, the user cannot switch to the
                            <link linkend="adm_content_tree">live tree</link> in the
                            <link linkend="adm_instance_editor">content instance editor</link>
                            anymore. Note that the backend needs to be reloaded via the browser
                            in order for changes to take effect!.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Auto flatten assignments: automatically flatten assignments
                            that can be stored in the flat storage (max. multiplicity &lt;= 1).
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Export URL prefix: path used by the export servlet.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Store binary transit files in Database: if enabled, binary files are
                            stored directly in the database during file upload, instead of the file
                            system.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           Binary transit path: file system path to store binaries during file upload.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           Binary threshold: threshold in bytes to
                            store binary files on the file system (instead of directly in the database)
                            if exceeded.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           Binary preview threshold: threshold in bytes to
                            store preview files on the file system (instead of directly in the database)
                            if exceeded.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           Binary path: path to store binary files on the file system.
                        </para>
                    </listitem>
                </itemizedlist>
            </section>
            <section xml:id="adm_system_parameters">
                <title>System parameters</title>
                <para>
                    The system parameters GUI provides a generic view of all
                    &flexive; system parameters grouped by scope.
                    Some parameters
                    can intentionally not be edited
                    as either specialized GUIs for editing exist in the backend administration
                    or they merely serve information purposes and don't impact system behavior.
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_system/system_paramters.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
             <section xml:id="adm_lock_administration">
                <title>Lock administration</title>
                <para>
                    The lock administration provides the possibility to search the system
                    for locked instances and to remove or extend the locks.
                </para>
                 <para>
                     The search offers the following refinements:
                     <itemizedlist>
                         <listitem>
                             <para>
                                Max. number of results:
                                 Limit to the maximum number of returned search results.
                             </para>
                         </listitem>
                         <listitem>
                             <para>
                                Account: The search results only contains locks belonging
                                 to the specified user account.
                             </para>
                         </listitem>
                         <listitem>
                             <para>
                                Type: The search result only contains locks of content instances
                                 of the specified type
                             </para>
                         </listitem>
                         <listitem>
                             <para>
                                Lock Type: The search result only contains locks of
                                 the selected lock type.
                             </para>
                         </listitem>
                     </itemizedlist>
                     The locks within the search result can be selected to either remove
                     (by pressing the "Unlock selected" button) or to extend (by pressing
                     the "Extend selected" button) all selected locks.
                 </para>
            </section>
              <section xml:id="adm_history_viewer">
                <title>History viewer</title>
                <para>
                    The history viewer provides an interface to search for recorded history entries.
                    The search can be refined to:
                    <itemizedlist>
                        <listitem>
                            <para>
                                Max. number of results: Specifies the maximum
                                number of retrieved search results.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Account: Refine the search query to a specific user account.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start date: Refine the search query to history entries
                                after the start date.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                End date: Refine the search query to history entries before
                                the end date.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Type: Refine the search query to contents of the given Type.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Content Id: Refine the search query to contents with the specified Id.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Category: Refine the search query to filter results according to the selected
                                history entry category.
                            </para>
                        </listitem>
                    </itemizedlist>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_system/history_viewer.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                    The query is submitted by pressing the "Search" button. The query result is
                    displayed below within a result table. <note>The user may click on entries in the
                    "Message" column within the result table to receive more detailed information
                    of the history event.</note>
                </para>
            </section>
            <section xml:id="adm_system_information">
                <title>System information</title>
                <para>The system information provides general runtime and hardware information
                    of the system &flexive; is running on.</para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_system/system_information.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
            </section>
            <section xml:id="adm_system_language">
                <title>Language settings</title>
                <para>In the language settings editor you can manage available languages. Add a language from the list of
                    disabled languages (by pressing the "+" icon), remove an available language
                    (by pressing the "-" icon) or change the list's order.
                    The language at the first position on
                    the list becomes the default language.
                </para>
                <para>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="images/adm_ui_system/language_settings.png"
                                       format="PNG" contentwidth="100%"/>
                        </imageobject>
                    </mediaobject>
                </para>
                <para>Check the
                    <code>Allow removal of languages which are in use</code>
                    option to be able to delete languages which are already in use by
                    <link linkend="core_contents">content instances</link>.
                </para>
            </section>
            <section xml:id="adm_test_data">
                <title>Create random test data for content instances</title>
                In order to get a notion of how custom content instances might look like,
                random test data can be created.
                 <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/adm_ui_system/random_test_data.png"
                                   format="PNG" contentwidth="100%"/>
                    </imageobject>
                </mediaobject>
                The following options are available:
                <itemizedlist>
                    <listitem>
                        <para>
                            Type: random test data is created for content instances of the
                            selected type.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Count: number of content instances to be created.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Max. multiplicity: Specifies the maximum multiplicity
                            for properties that are assigned with
                            a multiplicity > 1.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Sore in folder: Created instances will be stored in the
                            content tree at the specified folder.
                        </para>
                    </listitem>
                </itemizedlist>
                Upon pressing the "Create Test Data" button content instances with
                randomized that data are created.
            </section>
        </section>
    </section>
</chapter>